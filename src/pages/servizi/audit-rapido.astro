---
import Layout from '@/layouts/PageLayout.astro';
import { Icon } from 'astro-icon/components';
import PayLink from '@/components/ui/PayLink.astro';

const metadata = {
  title: 'Audit Rapido Sito Web | SEO, UX e Performance — LS Web Agency',
  description:
    'Diagnosi rapida del tuo sito: UX, SEO tecnica e performance. Priorità chiare e azioni concrete in 48 ore. Da 299€.',
  canonical: '/servizi/audit-rapido',
  robots: { index: true, follow: true },
  openGraph: {
    url: '/servizi/audit-rapido',
    type: 'website',
  },
};

// PayPal links (da configurare in .env)
const linkAuditBase =
  import.meta.env.PUBLIC_PAYPAL_AUDIT_BASE ||
  'https://www.paypal.com/ncp/payment/XXXXX';

const linkAuditCompleto =
  import.meta.env.PUBLIC_PAYPAL_AUDIT_COMPLETO ||
  'https://www.paypal.com/ncp/payment/XXXXX';

const WHATSAPP = 'https://wa.me/393403223494?text=Ciao%2C%20vorrei%20informazioni%20sull%27audit%20rapido.';
---

<Layout metadata={metadata}>
  <!-- HERO -->
  <section class="relative overflow-hidden isolate">
    <div class="absolute inset-0 -z-10 bg-gradient-to-b from-blue-100/80 via-white to-transparent dark:from-blue-900/30 dark:via-transparent"></div>
    <div class="container mx-auto px-6 pt-16 md:pt-20 pb-14">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <div>
          <span class="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200 ring-1 ring-blue-200/60 dark:ring-blue-700/50">
            <Icon name="tabler:search" class="w-4 h-4" />
            Diagnosi rapida · 48 ore
          </span>

          <h1 class="mt-4 text-3xl md:text-4xl lg:text-5xl font-extrabold leading-tight">
            <span class="block text-neutral-900 dark:text-white">
              Audit rapido:
            </span>
            <span class="block text-blue-600 dark:text-blue-400">
              priorità chiare, azioni concrete
            </span>
          </h1>

          <p class="mt-5 text-base md:text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed">
            Se il tuo sito non porta contatti, spesso il problema non è "Google" ma <strong>messaggio, percorso e fiducia</strong>.
            In 48 ore ti dico cosa blocca davvero conversioni, SEO e performance, con priorità chiare.
          </p>

          <div class="mt-8 flex flex-col sm:flex-row gap-3">
            <a href="/contatti?servizio=audit-rapido" class="btn-primary inline-flex items-center justify-center px-6 py-3 rounded-full font-semibold">
              Richiedi audit
            </a>
            <a href={WHATSAPP} target="_blank" rel="noopener" class="inline-flex items-center justify-center px-6 py-3 rounded-full font-semibold border border-neutral-300 hover:bg-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-800">
              <Icon name="tabler:brand-whatsapp" class="w-5 h-5 mr-2" />
              WhatsApp
            </a>
            <a href="#prezzi" class="inline-flex items-center justify-center px-6 py-3 rounded-full font-semibold border border-neutral-300 hover:bg-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-800">
              Vedi prezzi
            </a>
          </div>

          <div class="mt-6 grid grid-cols-3 gap-3 text-sm text-neutral-600 dark:text-neutral-300">
            <div class="rounded-xl px-3 py-2 ring-1 ring-neutral-200 dark:ring-neutral-700 text-center">
              UX & Conversioni
            </div>
            <div class="rounded-xl px-3 py-2 ring-1 ring-neutral-200 dark:ring-neutral-700 text-center">
              SEO Tecnica
            </div>
            <div class="rounded-xl px-3 py-2 ring-1 ring-neutral-200 dark:ring-neutral-700 text-center">
              Performance
            </div>
          </div>
        </div>

        <div class="relative hidden md:block">
          <div class="rounded-3xl overflow-hidden ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/70 dark:bg-neutral-900/40 shadow-xl">
            <div class="aspect-[4/3] bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50 dark:from-blue-950/30 dark:via-indigo-950/20 dark:to-cyan-950/30 relative flex items-center justify-center p-8">
              <!-- SVG illustrativo audit -->
              <svg viewBox="0 0 400 300" class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
                <!-- Dashboard/Report background -->
                <rect x="20" y="20" width="360" height="260" rx="12" fill="white" class="dark:fill-neutral-800" opacity="0.9"/>
                
                <!-- Header bar -->
                <rect x="20" y="20" width="360" height="50" rx="12" fill="url(#auditGrad1)"/>
                <circle cx="50" cy="45" r="8" fill="white" opacity="0.8"/>
                <rect x="70" y="38" width="120" height="14" rx="4" fill="white" opacity="0.9"/>
                
                <!-- Chart/Graph -->
                <rect x="40" y="90" width="320" height="120" rx="8" fill="url(#auditGrad2)" opacity="0.1"/>
                <path d="M 60 180 L 100 150 L 140 160 L 180 120 L 220 140 L 260 100 L 300 130 L 340 110" 
                      stroke="url(#auditGrad3)" stroke-width="3" fill="none" stroke-linecap="round"/>
                
                <!-- Metrics cards -->
                <rect x="40" y="230" width="100" height="40" rx="6" fill="url(#auditGrad4)" opacity="0.2"/>
                <rect x="40" y="230" width="100" height="8" rx="4" fill="url(#auditGrad4)"/>
                <rect x="40" y="250" width="60" height="6" rx="3" fill="url(#auditGrad4)" opacity="0.5"/>
                
                <rect x="150" y="230" width="100" height="40" rx="6" fill="url(#auditGrad5)" opacity="0.2"/>
                <rect x="150" y="230" width="100" height="8" rx="4" fill="url(#auditGrad5)"/>
                <rect x="150" y="250" width="60" height="6" rx="3" fill="url(#auditGrad5)" opacity="0.5"/>
                
                <rect x="260" y="230" width="100" height="40" rx="6" fill="url(#auditGrad6)" opacity="0.2"/>
                <rect x="260" y="230" width="100" height="8" rx="4" fill="url(#auditGrad6)"/>
                <rect x="260" y="250" width="60" height="6" rx="3" fill="url(#auditGrad6)" opacity="0.5"/>
                
                <!-- Checkmarks (priorità) -->
                <circle cx="80" cy="100" r="12" fill="#10B981" opacity="0.2"/>
                <path d="M 75 100 L 78 103 L 85 96" stroke="#10B981" stroke-width="2" fill="none" stroke-linecap="round"/>
                
                <circle cx="200" cy="100" r="12" fill="#F59E0B" opacity="0.2"/>
                <path d="M 195 100 L 198 103 L 205 96" stroke="#F59E0B" stroke-width="2" fill="none" stroke-linecap="round"/>
                
                <circle cx="320" cy="100" r="12" fill="#EF4444" opacity="0.2"/>
                <path d="M 315 100 L 318 103 L 325 96" stroke="#EF4444" stroke-width="2" fill="none" stroke-linecap="round"/>
                
                <defs>
                  <linearGradient id="auditGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#6366F1;stop-opacity:1" />
                  </linearGradient>
                  <linearGradient id="auditGrad2" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:0.3" />
                    <stop offset="100%" style="stop-color:#6366F1;stop-opacity:0.3" />
                  </linearGradient>
                  <linearGradient id="auditGrad3" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#6366F1;stop-opacity:1" />
                  </linearGradient>
                  <linearGradient id="auditGrad4" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#60A5FA;stop-opacity:1" />
                  </linearGradient>
                  <linearGradient id="auditGrad5" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#6366F1;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#818CF8;stop-opacity:1" />
                  </linearGradient>
                  <linearGradient id="auditGrad6" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#A78BFA;stop-opacity:1" />
                  </linearGradient>
                </defs>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- COSA INCLUDE -->
  <section class="container mx-auto px-6 py-12">
    <div class="max-w-3xl mb-8">
      <h2 class="text-2xl md:text-3xl font-bold mb-4">Cosa analizziamo</h2>
      <p class="text-neutral-700 dark:text-neutral-300">
        Tre aree critiche che bloccano contatti e posizionamento. Niente tecnicismi inutili: solo <strong>priorità reali</strong>.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-6">
      {[
        {
          icon: 'tabler:target-arrow',
          title: 'UX e conversioni',
          items: [
            'CTA, messaggi e percorso utente',
            'Struttura pagine e gerarchia',
            'Attrito verso il contatto',
            'Mobile experience',
          ],
        },
        {
          icon: 'tabler:search',
          title: 'SEO tecnica',
          items: [
            'Tag, struttura, indicizzazione',
            'Meta title/description',
            'Heading e schema markup',
            'Canonical e redirect',
          ],
        },
        {
          icon: 'tabler:gauge',
          title: 'Performance',
          items: [
            'Core Web Vitals',
            'Colli di bottiglia',
            'Immagini e risorse',
            'Velocità caricamento',
          ],
        },
      ].map((area) => (
        <article class="rounded-2xl p-6 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm">
          <Icon name={area.icon} class="w-8 h-8 text-blue-600 dark:text-blue-400 mb-3" />
          <h3 class="font-semibold text-lg mb-4">{area.title}</h3>
          <ul class="space-y-2 text-sm text-neutral-600 dark:text-neutral-300">
            {area.items.map((item) => (
              <li class="flex gap-2">
                <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
                <span>{item}</span>
              </li>
            ))}
          </ul>
        </article>
      ))}
    </div>
  </section>

  <!-- DELIVERABLE -->
  <section class="bg-neutral-50 dark:bg-neutral-950/40">
    <div class="container mx-auto px-6 py-12">
      <div class="max-w-3xl mb-8">
        <h2 class="text-2xl md:text-3xl font-bold mb-4">Cosa ricevi</h2>
        <p class="text-neutral-700 dark:text-neutral-300">
          Un report chiaro, senza tecnicismi inutili. Focus su <strong>cosa fare</strong> e <strong>perché</strong>.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        {[
          {
            icon: 'tabler:file-text',
            title: 'Report PDF (15-20 pagine)',
            desc: 'Priorità ordinate per impatto, con screenshot e spiegazioni chiare. Niente liste infinite: solo ciò che conta.',
          },
          {
            icon: 'tabler:list-check',
            title: 'Piano d\'azione',
            desc: 'Checklist con priorità: cosa fare subito, cosa può aspettare, cosa delegare.',
          },
          {
            icon: 'tabler:chart-bar',
            title: 'Metriche baseline',
            desc: 'Core Web Vitals, posizioni keyword principali, conversioni attuali. Per misurare i miglioramenti.',
          },
          {
            icon: 'tabler:video',
            title: 'Call di presentazione (30 min)',
            desc: 'Spiego le priorità, rispondo a domande e ti dico come procedere. Opzionale ma consigliata.',
          },
        ].map((item) => (
          <article class="rounded-2xl p-6 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/70 dark:bg-neutral-900/50">
            <Icon name={item.icon} class="w-8 h-8 text-blue-600 dark:text-blue-400 mb-3" />
            <h3 class="font-semibold text-lg mb-2">{item.title}</h3>
            <p class="text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed">{item.desc}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- PREZZI -->
  <section id="prezzi" class="container mx-auto px-6 py-12">
    <div class="max-w-3xl mb-8">
      <h2 class="text-2xl md:text-3xl font-bold mb-4">Prezzi</h2>
      <p class="text-neutral-600 dark:text-neutral-300">
        <em>Prezzi indicativi, IVA esclusa. Consegna in 48 ore lavorative.</em>
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6 max-w-5xl">
      <!-- BASE -->
      <article class="rounded-3xl p-7 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/85 dark:bg-neutral-900/55 shadow-sm">
        <div class="flex items-start justify-between gap-4 mb-4">
          <div>
            <span class="inline-flex px-3 py-1 rounded-full bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 text-xs font-semibold">
              Base
            </span>
            <h3 class="mt-3 text-xl font-bold">Audit Rapido</h3>
            <p class="mt-1 text-sm text-neutral-600 dark:text-neutral-300">Diagnosi essenziale con priorità chiare.</p>
          </div>
          <div class="text-right">
            <div class="text-3xl font-extrabold">299€</div>
            <div class="text-sm text-neutral-500">48 ore</div>
          </div>
        </div>

        <ul class="space-y-2 text-sm text-neutral-700 dark:text-neutral-300 mb-6">
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Analisi UX, SEO tecnica e performance</span>
          </li>
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Report PDF (15-20 pagine) con priorità</span>
          </li>
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Piano d'azione con checklist</span>
          </li>
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Metriche baseline (Core Web Vitals, keyword)</span>
          </li>
        </ul>

        <PayLink href={linkAuditBase} label="Acquista audit base" variant="green" class="w-full" />
        <a href="/contatti?servizio=audit-rapido&pacchetto=base" class="mt-3 block text-center text-sm text-neutral-600 dark:text-neutral-400 underline">
          Oppure richiedi preventivo
        </a>
      </article>

      <!-- COMPLETO -->
      <article class="rounded-3xl p-7 ring-2 ring-blue-400 dark:ring-blue-600 bg-gradient-to-b from-blue-50/70 to-white/80 dark:from-blue-900/10 dark:to-neutral-900/55 shadow-md relative">
        <span class="absolute -top-3 left-4 text-xs font-semibold px-2 py-1 rounded-full bg-blue-600 text-white">
          Più richiesto
        </span>
        <div class="flex items-start justify-between gap-4 mb-4">
          <div>
            <span class="inline-flex px-3 py-1 rounded-full bg-blue-600 text-white text-xs font-semibold">
              Completo
            </span>
            <h3 class="mt-3 text-xl font-bold">Audit + Call</h3>
            <p class="mt-1 text-sm text-neutral-600 dark:text-neutral-300">Con presentazione e Q&A.</p>
          </div>
          <div class="text-right">
            <div class="text-3xl font-extrabold">399€</div>
            <div class="text-sm text-neutral-500">48 ore</div>
          </div>
        </div>

        <ul class="space-y-2 text-sm text-neutral-700 dark:text-neutral-300 mb-6">
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Tutto il pacchetto Base</span>
          </li>
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Call di presentazione (30 min)</span>
          </li>
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Q&A e chiarimenti</span>
          </li>
          <li class="flex gap-2">
            <Icon name="tabler:check" class="w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0" />
            <span>Consigli su come procedere</span>
          </li>
        </ul>

        <PayLink href={linkAuditCompleto} label="Acquista audit completo" variant="accent" class="w-full" />
        <a href="/contatti?servizio=audit-rapido&pacchetto=completo" class="mt-3 block text-center text-sm text-neutral-600 dark:text-neutral-400 underline">
          Oppure richiedi preventivo
        </a>
      </article>
    </div>
  </section>

  <!-- FAQ -->
  <section class="container mx-auto px-6 pb-12">
    <div class="max-w-3xl mb-8">
      <h2 class="text-2xl md:text-3xl font-bold mb-4">Domande frequenti</h2>
    </div>

    <div class="grid md:grid-cols-2 gap-4 max-w-5xl">
      {[
        {
          q: 'Cosa serve per iniziare?',
          a: 'Solo l\'URL del sito e accesso a Google Analytics (se disponibile). In 48 ore ricevi il report completo.',
        },
        {
          q: 'L\'audit include anche la correzione?',
          a: 'No, l\'audit è la diagnosi. Ti dico cosa correggere e come. Se vuoi, possiamo procedere con i fix (servizio separato).',
        },
        {
          q: 'È utile anche per siti nuovi?',
          a: 'Sì, soprattutto per evitare errori comuni fin dall\'inizio. Meglio correggere subito che dopo mesi.',
        },
        {
          q: 'Posso usare l\'audit per altri professionisti?',
          a: 'Sì, il report è tuo. Puoi condividerlo con il tuo team o altri professionisti per implementare le correzioni.',
        },
      ].map((faq) => (
        <details class="rounded-2xl p-5 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50">
          <summary class="cursor-pointer font-semibold flex items-center justify-between gap-4">
            <span>{faq.q}</span>
            <Icon name="tabler:chevron-down" class="w-5 h-5 opacity-70 shrink-0" />
          </summary>
          <p class="mt-3 text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed">{faq.a}</p>
        </details>
      ))}
    </div>
  </section>

  <!-- CTA FINALE -->
  <section class="container mx-auto px-6 pb-16">
    <div class="rounded-3xl p-8 md:p-12 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-gradient-to-br from-blue-950 via-neutral-900 to-indigo-950 text-white">
      <div class="max-w-3xl">
        <h2 class="text-2xl md:text-3xl font-extrabold mb-4">Vuoi sapere cosa blocca davvero il tuo sito?</h2>
        <p class="text-lg text-white/80 leading-relaxed mb-6">
          In 48 ore ti dico le priorità reali su UX, SEO e performance. Niente tecnicismi: solo <strong>cosa fare</strong> e <strong>perché</strong>.
        </p>
        <div class="flex flex-col sm:flex-row gap-3">
          <a href="/contatti?servizio=audit-rapido" class="inline-flex items-center justify-center px-7 py-3 rounded-full font-semibold bg-white text-neutral-900 hover:bg-white/90">
            Richiedi audit
            <Icon name="tabler:arrow-right" class="w-5 h-5 ml-2" />
          </a>
          <a href={WHATSAPP} target="_blank" rel="noopener" class="inline-flex items-center justify-center px-7 py-3 rounded-full font-semibold border border-white/30 hover:bg-white/10">
            <Icon name="tabler:brand-whatsapp" class="w-5 h-5 mr-2" />
            Scrivimi su WhatsApp
          </a>
        </div>
        <p class="mt-4 text-sm text-white/70">Consegna in 48 ore · Report completo</p>
      </div>
    </div>
  </section>

  <!-- JSON-LD -->
  <script type="application/ld+json" set:html={JSON.stringify({
    '@context': 'https://schema.org',
    '@type': 'Service',
    name: 'Audit Rapido Sito Web',
    description: 'Diagnosi rapida del tuo sito: UX, SEO tecnica e performance. Priorità chiare e azioni concrete in 48 ore.',
    provider: {
      '@type': 'Organization',
      name: 'LS Web Agency',
      url: 'https://www.lswebagency.com',
    },
    areaServed: 'IT',
    offers: {
      '@type': 'Offer',
      priceCurrency: 'EUR',
      price: '299',
    },
  })} />
</Layout>

