---
import CallToAction from '@/components/widgets/CallToAction.astro';
import Features2 from '@/components/widgets/Features2.astro';
import Hero from '@/components/widgets/Hero.astro';
import Layout from '@/layouts/PageLayout.astro';
import { Icon } from 'astro-icon/components';

// ✅ immagine esistente importata come ESM (evita MissingImageDimension)
import servicesHero from '@/assets/images/servizi-seo-grafica-branding-siti-web.webp';

const metadata = {
  title: 'Servizi Web, SEO e Marketing | LS Web Agency',
  description:
    'Siti web performanti, SEO (anche locale) e marketing digitale. Nuovi servizi: Local SEO Booster, Accessibilità avanzata, UX con AI e Web Design Etico.',
  canonical: '/servizi',
  ignoreTitleTemplate: true,
  openGraph: {
    url: '/servizi',
    images: [{ url: servicesHero.src, width: servicesHero.width, height: servicesHero.height }],
    type: 'website',
  },
  twitter: {
    cardType: 'summary_large_image',
  },
};

// URL utili
const SEO_BOOSTER_URL = '/servizi/seo-locale';
const PAGAMENTI_URL = '/pagamenti';

// ✅ Landing “pacchetto rapido”
const CONTATTI_RAPIDI_URL = '/lp/contatti-rapidi';
const CONTATTI_RAPIDI_CTA = '/contatti?servizio=contatti-rapidi&azione=call';
---

<Layout metadata={metadata}>
  <!-- HERO + bg gradient: più tenue e più basso -->
  <section class="relative isolate">
    <div
      aria-hidden="true"
      class="pointer-events-none absolute inset-x-0 top-0 -z-10 h-[340px] sm:h-[400px] md:h-[440px]"
    >
      <div
        class="h-full bg-gradient-to-b from-violet-600/10 via-fuchsia-500/8 to-white
               dark:from-violet-500/20 dark:via-fuchsia-400/10 dark:to-neutral-950"
      />
    </div>

    <Hero
      actions={[
        { variant: 'primary', text: 'Parla con noi', href: '/contatti' },
        { text: 'Scopri i servizi', href: '#servizi' },
      ]}
      image={{
        src: servicesHero.src,
        alt: 'Servizi web, SEO e marketing digitale',
        width: servicesHero.width,
        height: servicesHero.height,
      }}
    >
      <span slot="title">
        <span>Strategie digitali su misura: </span>
        <span class="text-accent text-gradient dark:text-white highlight">Siti Web</span>,
        <span class="text-accent text-gradient dark:text-white highlight">SEO</span> &
        <span class="text-accent text-gradient dark:text-white highlight">Marketing</span>
      </span>

      <span slot="subtitle">
        Realizziamo siti veloci e sicuri, posizioniamo il tuo brand su Google (anche nel
        <strong>Local Pack</strong>) e attiviamo campagne che convertono.
        Novità: <strong>Local SEO Booster</strong>, <strong>Accessibilità Digitale</strong>,
        <strong>UX con AI</strong> e <strong>Web Design Etico</strong>.
      </span>
    </Hero>
  </section>

  <!-- SERVIZI CORE (in evidenza) -->
  <section class="container mx-auto max-w-7xl px-6 md:px-8 py-10">
    <div class="mb-8">
      <h2 class="text-2xl md:text-3xl font-bold mb-2">Servizi Core</h2>
      <p class="text-neutral-600 dark:text-neutral-300">
        Servizi mirati ed efficienti: landing page, SEO locale, audit e fix. Focus su risultati misurabili.
      </p>
    </div>

    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
      <article class="rounded-3xl p-6 ring-2 ring-neutral-200 dark:ring-neutral-800 bg-white/90 dark:bg-neutral-900/60 shadow-sm hover:shadow-md transition hover:-translate-y-0.5">
        <div class="text-2xl mb-3 text-violet-600 dark:text-violet-400">
          <Icon name="tabler:layout" />
        </div>
        <h3 class="font-semibold text-lg mb-2">Landing Page</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed mb-4">
          Pagina che converte: UX, copy, CTA, performance. Da 690€.
        </p>
        <a href="/servizi/landing-page-professionale" class="inline-flex items-center text-sm font-semibold text-neutral-900 dark:text-white hover:underline">
          Scopri di più →
        </a>
      </article>

      <article class="rounded-3xl p-6 ring-2 ring-neutral-200 dark:ring-neutral-800 bg-white/90 dark:bg-neutral-900/60 shadow-sm hover:shadow-md transition hover:-translate-y-0.5">
        <div class="text-2xl mb-3 text-emerald-600 dark:text-emerald-400">
          <Icon name="tabler:map-pin" />
        </div>
        <h3 class="font-semibold text-lg mb-2">Local SEO Booster</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed mb-4">
          Google Business Profile, Local Pack, recensioni. Setup + manutenzione.
        </p>
        <a href="/servizi/seo-locale" class="inline-flex items-center text-sm font-semibold text-neutral-900 dark:text-white hover:underline">
          Scopri di più →
        </a>
      </article>

      <article class="rounded-3xl p-6 ring-2 ring-neutral-200 dark:ring-neutral-800 bg-white/90 dark:bg-neutral-900/60 shadow-sm hover:shadow-md transition hover:-translate-y-0.5">
        <div class="text-2xl mb-3 text-blue-600 dark:text-blue-400">
          <Icon name="tabler:search" />
        </div>
        <h3 class="font-semibold text-lg mb-2">Audit Rapido</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed mb-4">
          Diagnosi UX, SEO e performance. Priorità chiare in 48 ore. Da 299€.
        </p>
        <a href="/servizi/audit-rapido" class="inline-flex items-center text-sm font-semibold text-neutral-900 dark:text-white hover:underline">
          Scopri di più →
        </a>
      </article>

      <article class="rounded-3xl p-6 ring-2 ring-neutral-200 dark:ring-neutral-800 bg-white/90 dark:bg-neutral-900/60 shadow-sm hover:shadow-md transition hover:-translate-y-0.5">
        <div class="text-2xl mb-3 text-pink-600 dark:text-pink-400">
          <Icon name="tabler:tool" />
        </div>
        <h3 class="font-semibold text-lg mb-2">Fix Performance & SEO</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed mb-4">
          Correzioni mirate su velocità, SEO tecnica e bug. Da 399€.
        </p>
        <a href="/servizi/fix-performance-seo" class="inline-flex items-center text-sm font-semibold text-neutral-900 dark:text-white hover:underline">
          Scopri di più →
        </a>
      </article>
    </div>
    </div>
  </section>

  <!-- SERVIZI (griglia completa) -->
  <Features2
    id="servizi"
    title="Tutti i Servizi"
    subtitle="Strategie e realizzazioni per aumentare visibilità, lead e vendite."
    columns={4}
    classes={{
      container:
        'max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 md:gap-6 xl:gap-8 px-6 md:px-8',
      panel:
        'h-full rounded-2xl p-5 md:p-6 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm hover:shadow-md transition hover:-translate-y-0.5',
      title: 'mt-1 font-semibold text-lg',
      description: 'mt-1 text-neutral-600 dark:text-neutral-300 text-sm leading-relaxed',
      icon: 'text-2xl mb-2 opacity-80',
    }}
    items={[
      { title: 'Creazione siti web', description: 'Siti moderni, veloci, orientati alla conversione.', icon: 'tabler:device-desktop', href: '/servizi/creazione-siti-web-sassari' },
      { title: 'Realizzazione E-commerce', description: 'WooCommerce o headless, checkout ottimizzati.', icon: 'tabler:shopping-cart', href: '/servizi/realizzazione-siti-ecommerce' },
      { title: 'Ottimizzazione SEO', description: 'Analisi tecnica, contenuti e link building.', icon: 'tabler:chart-line', href: '/servizi/ottimizzazione-seo-siti-web' },

      { title: 'Branding e Grafica', description: 'Identità visiva, UI e materiali promozionali.', icon: 'tabler:palette', href: '/servizi/branding-e-grafica-siti-web' },
      { title: 'Accessibilità Digitale', description: 'Adeguamenti WCAG/AgID e remediation.', icon: 'tabler:wheelchair', href: '/servizi/accessibilita-digitale-avanzata' },
      { title: 'UX con Intelligenza Artificiale', description: 'Esperienze personalizzate e dinamiche.', icon: 'tabler:brain', href: '/servizi/personalizzazione-ux-intelligenza-artificiale' },
      { title: 'Assistente AI (Sito & WhatsApp)', description: 'FAQ 24/7, prenotazioni, lead qualificati.', icon: 'tabler:message-chatbot', href: '/servizi/assistente-ai-sito-whatsapp' },
      { title: 'Web Design Etico & Sostenibile', description: 'Performance, privacy e leggerezza.', icon: 'tabler:leaf', href: '/servizi/web-design-etico-sostenibile' },
      { title: 'WordPress Slim', description: 'Statici/headless: veloci, sicuri, SEO-ready.', icon: 'tabler:rocket', href: '/servizi/wordpress-slim-siti-statici-headless' },
    ]}
  />

  <!-- PACCHETTI RAPIDI (conversione) -->
  <section class="container mx-auto max-w-7xl px-6 md:px-8 py-10">
    <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-6">
      <div>
        <h2 class="text-2xl md:text-3xl font-bold">Pacchetti rapidi</h2>
        <p class="text-neutral-600 dark:text-neutral-300">
          Soluzioni snelle per uscire dall’urgenza: una pagina, un obiettivo, più richieste.
        </p>
      </div>

      <div class="flex gap-2">
        <a
          href={CONTATTI_RAPIDI_URL}
          class="inline-flex items-center justify-center rounded-full px-5 py-3 font-semibold ring-1 ring-neutral-200 bg-white/70 hover:bg-white dark:bg-neutral-900/40 dark:ring-neutral-800 dark:hover:bg-neutral-900/60"
        >
          Vedi la landing
        </a>
        <a
          href={CONTATTI_RAPIDI_CTA}
          class="btn-primary inline-flex items-center justify-center rounded-full px-5 py-3 font-semibold"
        >
          Prenota una call
          <Icon name="tabler:arrow-right" class="w-5 h-5 ml-2" />
        </a>
      </div>
    </div>

    <div class="grid gap-6 md:grid-cols-3">
      <article class="rounded-3xl p-6 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm hover:shadow-md transition">
        <div class="text-2xl opacity-80"><Icon name="tabler:bolt" /></div>
        <h3 class="mt-2 font-semibold text-lg">Contatti Rapidi</h3>
        <p class="mt-1 text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed">
          Landing orientata alla conversione con CTA WhatsApp + form, microcopy, SEO essenziale e tracking base.
        </p>
        <div class="mt-4 flex flex-col gap-2">
          <a href={CONTATTI_RAPIDI_URL} class="inline-flex items-center text-sm font-semibold text-indigo-700 hover:text-indigo-800 dark:text-indigo-300">
            Scopri di più →
          </a>
          <a href={CONTATTI_RAPIDI_CTA} class="inline-flex items-center text-sm font-semibold text-neutral-900 dark:text-white">
            Prenota la call (15 min)
            <Icon name="tabler:arrow-right" class="w-4 h-4 ml-1" />
          </a>
        </div>
      </article>

      <article class="rounded-3xl p-6 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm">
        <div class="text-2xl opacity-80"><Icon name="tabler:target-arrow" /></div>
        <h3 class="mt-2 font-semibold text-lg">Perché funziona</h3>
        <p class="mt-1 text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed">
          Riduce dubbi, aumenta fiducia, guida l’utente verso un’azione unica. Meno dispersione, più contatti.
        </p>
      </article>

      <article class="rounded-3xl p-6 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-gradient-to-b from-emerald-50/70 to-white/80 dark:from-emerald-400/10 dark:to-neutral-900/55 shadow-sm">
        <div class="text-2xl opacity-80"><Icon name="tabler:clock" /></div>
        <h3 class="mt-2 font-semibold text-lg">Tempi rapidi</h3>
        <p class="mt-1 text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed">
          Ideale quando serve monetizzare: consegna veloce, revisioni mirate, pubblicazione e controlli finali.
        </p>
      </article>
    </div>
  </section>

  <!-- NOVITÀ -->
  <section class="container mx-auto max-w-7xl px-6 md:px-8 py-10">
    <div class="text-center mb-6">
      <h2 class="text-2xl md:text-3xl font-bold">Novità</h2>
      <p class="text-neutral-600 dark:text-neutral-300">Servizi introdotti o aggiornati di recente.</p>
    </div>

    <div class="grid gap-5 md:gap-6 xl:gap-8 md:grid-cols-3">
      <article class="rounded-2xl p-5 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm">
        <span class="inline-flex text-xs font-semibold px-2 py-1 rounded-full bg-indigo-600 text-white">Nuovo</span>
        <h3 class="mt-2 font-semibold">Local SEO Booster</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300">GBP, Local Pack, recensioni. Piani mensili + setup.</p>
        <a href={SEO_BOOSTER_URL} class="mt-3 inline-flex items-center text-sm font-medium text-indigo-700 hover:text-indigo-800">Scopri di più →</a>
      </article>

      <article class="rounded-2xl p-5 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm">
        <span class="inline-flex text-xs font-semibold px-2 py-1 rounded-full bg-indigo-600 text-white">Nuovo</span>
        <h3 class="mt-2 font-semibold">Accessibilità Digitale</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300">Audit, remediation e conformità WCAG/AgID.</p>
        <a href="/servizi/accessibilita-digitale-avanzata" class="mt-3 inline-flex items-center text-sm font-medium text-indigo-700 hover:text-indigo-800">Scopri di più →</a>
      </article>

      <article class="rounded-2xl p-5 ring-1 ring-neutral-200 dark:ring-neutral-800 bg-white/80 dark:bg-neutral-900/50 shadow-sm">
        <span class="inline-flex text-xs font-semibold px-2 py-1 rounded-full bg-indigo-600 text-white">Nuovo</span>
        <h3 class="mt-2 font-semibold">UX con AI</h3>
        <p class="text-sm text-neutral-600 dark:text-neutral-300">Percorsi dinamici per aumentare le conversioni.</p>
        <a href="/servizi/personalizzazione-ux-intelligenza-artificiale" class="mt-3 inline-flex items-center text-sm font-medium text-indigo-700 hover:text-indigo-800">Scopri di più →</a>
      </article>
    </div>

    <p class="text-center text-sm mt-6 text-neutral-500 dark:text-neutral-400">
      Pagamenti con PayPal/carte o bonifico: <a class="underline decoration-indigo-600 underline-offset-2" href={PAGAMENTI_URL}>metodi di pagamento</a>.
    </p>
  </section>

  <CallToAction
    actions={[
      { variant: 'primary', text: 'Richiedi un preventivo', href: '/contatti' },
      { text: 'Scopri il Local SEO Booster', href: SEO_BOOSTER_URL },
    ]}
    title="Pronti a far crescere il tuo business?"
    subtitle="Unisciti alle attività locali che ottengono più chiamate, visite e richieste da Google."
  />
</Layout>